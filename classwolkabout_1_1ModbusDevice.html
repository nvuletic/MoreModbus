<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MoreModbus: wolkabout::ModbusDevice Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MoreModbus
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classwolkabout_1_1ModbusDevice.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classwolkabout_1_1ModbusDevice-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">wolkabout::ModbusDevice Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Collection of ModbusGroups for a single Modbus server/slave.  
 <a href="classwolkabout_1_1ModbusDevice.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ModbusDevice_8h_source.html">ModbusDevice.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for wolkabout::ModbusDevice:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classwolkabout_1_1ModbusDevice.png" usemap="#wolkabout::ModbusDevice_map" alt=""/>
  <map id="wolkabout::ModbusDevice_map" name="wolkabout::ModbusDevice_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a662b8915a96f4429fdaced37f7dd85c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwolkabout_1_1ModbusDevice.html#a662b8915a96f4429fdaced37f7dd85c5">ModbusDevice</a> (const std::string &amp;name, int16_t slaveAddress)</td></tr>
<tr class="memdesc:a662b8915a96f4429fdaced37f7dd85c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for the device.  <a href="#a662b8915a96f4429fdaced37f7dd85c5">More...</a><br /></td></tr>
<tr class="separator:a662b8915a96f4429fdaced37f7dd85c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2457af2215f5a55ec6eae5da92126065"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2457af2215f5a55ec6eae5da92126065"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwolkabout_1_1ModbusDevice.html#a2457af2215f5a55ec6eae5da92126065">ModbusDevice</a> (const <a class="el" href="classwolkabout_1_1ModbusDevice.html">ModbusDevice</a> &amp;device)</td></tr>
<tr class="memdesc:a2457af2215f5a55ec6eae5da92126065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor for the device, does complete deep copy for device and groups. <br /></td></tr>
<tr class="separator:a2457af2215f5a55ec6eae5da92126065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a9621dddc2a91968e4189ef49552ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwolkabout_1_1ModbusDevice.html#a0a9621dddc2a91968e4189ef49552ba1">createGroups</a> (const std::vector&lt; std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt;&gt; &amp;mappings)</td></tr>
<tr class="memdesc:a0a9621dddc2a91968e4189ef49552ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create all the <a class="el" href="classwolkabout_1_1RegisterGroup.html" title="Group serves to merge multiple mappings that can be read with a single Modbus command. ">RegisterGroup</a> that this device will have by providing all mappings.  <a href="#a0a9621dddc2a91968e4189ef49552ba1">More...</a><br /></td></tr>
<tr class="separator:a0a9621dddc2a91968e4189ef49552ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fbc6475dcd789bc6ce1846bed6e270c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4fbc6475dcd789bc6ce1846bed6e270c"></a>
const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getName</b> () const </td></tr>
<tr class="separator:a4fbc6475dcd789bc6ce1846bed6e270c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32e8684f271ecd51c21fa934d05e48d0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32e8684f271ecd51c21fa934d05e48d0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>getStatus</b> () const </td></tr>
<tr class="separator:a32e8684f271ecd51c21fa934d05e48d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461f1c9f1ea05a4ca464ab84d39ca84f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a461f1c9f1ea05a4ca464ab84d39ca84f"></a>
const std::weak_ptr&lt; <a class="el" href="classwolkabout_1_1ModbusReader.html">ModbusReader</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getReader</b> () const </td></tr>
<tr class="separator:a461f1c9f1ea05a4ca464ab84d39ca84f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ac30b9315f10b4c05f68855f49e95fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ac30b9315f10b4c05f68855f49e95fc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setReader</b> (const std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1ModbusReader.html">ModbusReader</a> &gt; &amp;reader)</td></tr>
<tr class="separator:a7ac30b9315f10b4c05f68855f49e95fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a93b411830fdc750af69d4729ef829"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74a93b411830fdc750af69d4729ef829"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><b>getSlaveAddress</b> () const </td></tr>
<tr class="separator:a74a93b411830fdc750af69d4729ef829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380ceece7890b70fb5e42f85f64ed482"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a380ceece7890b70fb5e42f85f64ed482"></a>
const std::vector&lt; std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterGroup.html">RegisterGroup</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getGroups</b> () const </td></tr>
<tr class="separator:a380ceece7890b70fb5e42f85f64ed482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3faaf7be7a1bc270b1ac7cc728457e7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3faaf7be7a1bc270b1ac7cc728457e7d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOnMappingValueChange</b> (const std::function&lt; void(const std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt; &amp;, bool)&gt; &amp;onMappingValueChangeBool)</td></tr>
<tr class="separator:a3faaf7be7a1bc270b1ac7cc728457e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28b9aca8db00f6c6c7957a7443eed33a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwolkabout_1_1ModbusDevice.html#a28b9aca8db00f6c6c7957a7443eed33a">setOnMappingValueChange</a> (const std::function&lt; void(const std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt; &amp;, const std::vector&lt; uint16_t &gt; &amp;)&gt; &amp;onMappingValueChange)</td></tr>
<tr class="memdesc:a28b9aca8db00f6c6c7957a7443eed33a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event that will trigger when one of the devices mappings value changes.  <a href="#a28b9aca8db00f6c6c7957a7443eed33a">More...</a><br /></td></tr>
<tr class="separator:a28b9aca8db00f6c6c7957a7443eed33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce16129bf831d37c11778fd994a259e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwolkabout_1_1ModbusDevice.html#a1ce16129bf831d37c11778fd994a259e">setOnStatusChange</a> (const std::function&lt; void(bool)&gt; &amp;onStatusChange)</td></tr>
<tr class="memdesc:a1ce16129bf831d37c11778fd994a259e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event that will trigger when the devices status changes.  <a href="#a1ce16129bf831d37c11778fd994a259e">More...</a><br /></td></tr>
<tr class="separator:a1ce16129bf831d37c11778fd994a259e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac794999b86c88767766abb2a68f1d0b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac794999b86c88767766abb2a68f1d0b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>triggerOnMappingValueChange</b> (const std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt; &amp;mapping, bool data)</td></tr>
<tr class="separator:ac794999b86c88767766abb2a68f1d0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afac971925c09a835e49071449a7a491f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afac971925c09a835e49071449a7a491f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>triggerOnMappingValueChange</b> (const std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt; &amp;mapping, const std::vector&lt; uint16_t &gt; &amp;data)</td></tr>
<tr class="separator:afac971925c09a835e49071449a7a491f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916f0e86731246513db3757bb97d6e78"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a916f0e86731246513db3757bb97d6e78"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>triggerOnStatusChange</b> (bool status)</td></tr>
<tr class="separator:a916f0e86731246513db3757bb97d6e78"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Collection of ModbusGroups for a single Modbus server/slave. </p>
<p>The device contains the slaveAddress, and all the groups to be read for the slave address. The groups will be created by the device, and all the slaveAddresses will be set when the device is created. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a662b8915a96f4429fdaced37f7dd85c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wolkabout::ModbusDevice::ModbusDevice </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>slaveAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor for the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>unique as identification </td></tr>
    <tr><td class="paramname">slaveAddress</td><td>unique to device, and is going to set all groups to this slaveAddress </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0a9621dddc2a91968e4189ef49552ba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wolkabout::ModbusDevice::createGroups </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>mappings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create all the <a class="el" href="classwolkabout_1_1RegisterGroup.html" title="Group serves to merge multiple mappings that can be read with a single Modbus command. ">RegisterGroup</a> that this device will have by providing all mappings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mappings</td><td>container of all mappings the user wishes this device has. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a28b9aca8db00f6c6c7957a7443eed33a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wolkabout::ModbusDevice::setOnMappingValueChange </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(const std::shared_ptr&lt; <a class="el" href="classwolkabout_1_1RegisterMapping.html">RegisterMapping</a> &gt; &amp;, const std::vector&lt; uint16_t &gt; &amp;)&gt; &amp;&#160;</td>
          <td class="paramname"><em>onMappingValueChange</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event that will trigger when one of the devices mappings value changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onMappingValueChange</td><td>the callback function for callback, executed on the devices reading thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1ce16129bf831d37c11778fd994a259e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wolkabout::ModbusDevice::setOnStatusChange </td>
          <td>(</td>
          <td class="paramtype">const std::function&lt; void(bool)&gt; &amp;&#160;</td>
          <td class="paramname"><em>onStatusChange</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Event that will trigger when the devices status changes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onStatusChange</td><td>the callback function for callback, executed on the devices reading thread. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ModbusDevice_8h_source.html">ModbusDevice.h</a></li>
<li>src/ModbusDevice.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>wolkabout</b></li><li class="navelem"><a class="el" href="classwolkabout_1_1ModbusDevice.html">ModbusDevice</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
